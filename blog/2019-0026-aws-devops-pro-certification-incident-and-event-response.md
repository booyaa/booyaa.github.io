---
permalink: "/2019/aws-devops-pro-certification-incident-and-event-response"
title: "AWS DevOps Pro Certification Blog Post Series: Incident and Event Response"
categories:
  - "aws,study,certification"
layout: post.liquid
published_date: "2019-06-06 13:37:00 +0000"
is_draft: true
data:
  tags: "aws,study,certification"
  route: blog
---

_This is part of the blog post series: [AWS DevOps Pro Certification](/2019/aws-devops-pro-certification-intro/)_

## What does the exam guide say?

To pass this domain, you'll need to know the following:

- Troubleshoot issues and determine how to restore operations
- Determine how to automate event management and alerting
- Apply concepts required to implement automated healing
- Apply concepts required to set up event-driven automated actions

This domain is **18%** of the overall mark for the exam.

## What whitepapers are relevant?

According to the [AWS Whitepapers for Security and Compliance](https://aws.amazon.com/whitepapers/#security) we should look at the following documents:

- [AWS Security Incident Response (May 2019)][security_wp1]
- [AWS Security Best Practices  (August 2016)][security_wp2]

Other whitepapers as recommended by product pages:

- [Real-Time Insights on AWS Account Activity][kda_wp1]
- [Real-Time Web Analytics with Kinesis Data Analytics][kda_wp2]
- [Streaming Data Solutions on AWS with Amazon Kinesis (July 2017)][kinesis_wp]

## What services and products covered in this domain?

- [Amazon GuardDuty][guardduty_page] - thread detection
- [Amazon Inspector][inspector_page] - best practice in security
- [Amazon Kinesis][kinesis_page] has separate pages for each sub-product
  - [Kinesis Video Streams][kvs_page] allows you to securely stream video from connected devices for analytics, machine learning and other forms of processing.
  - [Kinesis Data Streams][kds_page] is scalable and durable real time data stream service
  - [Kinesis Data Firehose][kdf_page] allows you to capture, transform and load data streams into AWS data stores (S3, ) whilst allow you to perform near real-time analytics with existing Business Intelligence tools
  - [Kinesis Data Analytics][kda_page] is the next tier up when you've outgrown CloudWatch for analytics. Allowing you to process data streams in real time using SQL or Java.

## What about other types of documentation?

If you have the time, by all means, read the User Guides, but they are usually a couple of hundred pages.

- [Amazon GuardDuty][guardduty_guide]
- [Amazon Inspector][inspector_guide]
- Amazon Kinesis
  - [Kinesis Video Streams][kvs_guide]
  - [Kinesis Data Streams][kds_guide]
  - [Kinesis Data Firehose][kdf_guide]
  - [Kinesis Data Analytics][kda_guide]

Alternatively, get familiar with the services using the FAQs:

- [Amazon GuardDuty][guardduty_faq]
- [Amazon Inspector][inspector_faq]
- Amazon Kinesis
  - [Kinesis Video Streams][kvs_faq]
  - [Kinesis Data Streams][kds_faq]
  - [Kinesis Data Firehose][kdf_faq]
  - [Kinesis Data Analytics][kda_faq]

You're all expected to know the APIs

- [Amazon GuardDuty][guardduty_api]
- [Amazon Inspector][inspector_api]
- Amazon Kinesis
  - [Kinesis Video Streams][kvs_api]
  - [Kinesis Data Streams][kds_api]
  - [Kinesis Data Firehose][kdf_api]
  - [Kinesis Data Analytics][kda_api]

Before you panic, you'll start to spot a pattern with the API verbs.

And the CLI commands

- [Amazon GuardDuty][guardduty_cli]
- [Amazon Inspector][inspector_cli]
- Amazon Kinesis
  - Kinesis Video Streams has 3 different subcommands: [kinesis-video-archived-media][kvs_cli1], [kinesis-video-media][kvs_cli2], [kinesisvideo][kvs_cli3]
  - Kinesis Data Streams has no CLI subcommands
  - Kinesis Data Firehose has no CLI subcommands
  - [Kinesis Data Analytics][kda_cli]

As with the API, there are patterns to the commands.

## Please put down your weapon. You have 20 seconds to comply.

_Quote: ED-209, Robocop (1987)_

This is another domain, that probably requires awareness of the products rather than actual use (especially in the case of the Kinesis suite). As we'll see Amazon GuardDuty and Amazon Inspector do have immediate use for small to medium sized business if you don't have a Information Security function in your company.

As the title of this section suggest, this is domain focussed on how to responding to incidents and events. Incidents are usually around a security context. where as events are often related to a data stream.

I'll be covering all the products in this domain within this post since it's a relatively small domain with very little opportunities to provide practical hands on experience using the AWS CLI.

## What?

- **Amazon GuardDuty** is a threat detection service that analyses meta-data generated by your account and network activity found in AWS CloudTrail Events, Amazon VPC Flow Log, and DNS Logs. It can detect:
  - Reconnaissance - port scanning, login failures, unusual API activity and access from a known bad IP.
  - Instance compromise - malware, outbound denial of service activity, unusually high volumes of traffic, activity from a known bad IP, data exfiltration via DNS
  - Account compromise - attempt to disable AWS CloudTrail logging, unusual instance or infrastructure launches (think: GPU instance types for cryptocurrency mining), resources being spun up in regions outside of normal use, activity from a knwon bad IP.
  - Data retention for a GuardDuty-generated finding is 90 days.
**Amazon Inspector** is ...
**Amazon Kinesis** is a suite of products:
- **Kinesis Video Streams** is ...
- **Kinesis Data Streams** is ...
- **Kinesis Data Firehose** is ...
- **Kinesis Data Analytics** is ...

## Why?

- **Amazon GuardDuty** provides a comprehensive threat detection service, whilst it does offer reporting through a dashboard, the response workflow does require more work i.e. you're expected to write the tooling (AWS Lambda) around the events (CloudWatch). This is probably why Amazon are touting [partners][guardduty_partners] who can help implement these workflows.

## When?

**Amazon GuardDuty** should be used when you don't want the overhead of managing your own threat detection and response system. To do this yourself you would need to use tools like [Snort][link_snort] or [Tripwire][link_tripwire] and maintain subscriptions to 3rd party threat intellgience sources like [Proofpoint][link_proofpoint] and [CrowdStrike][link_crowdstrike].

## How?

**Amazon GuardDuty** provides a [30 day free trial][guardduty_pricing], after that you charged by the volume of events (CloudTrail) and volume of data (Amazon VPC Flow Log and DNS log). The key things (also that form the navigation menu) you need to be aware of in the service page in the AWS Console are:

- Findings are potential security issues discovered by GuardDuty.
- Settings is where:
  - permissions for the service are defined
  - Set the interval that GuardDuty sends events to CloudWatch
  - Preload GuardDuty with sample findings
  - Suspend or disable GuardDuty
- Lists is the list management page where you can upload a list of Trusted IPs or Threat Lists (malicious IP addresses). You can upload have a max of 6 Threat Lists per AWS account per region.
- Accounts - to manage Master (admin) and Member (users) Accounts within the service
- What's New - features annuncement (you can also subscribe via [SNS topic][guardduty_guide_sns])
- Free trial - how much time you have left


<!-- What whitepapers are relevant? -->

[security_wp1]: https://d1.awsstatic.com/whitepapers/aws_security_incident_response.pdf
[security_wp2]: https://d1.awsstatic.com/whitepapers/Security/AWS_Security_Best_Practices.pdf
[kinesis_wp]: https://d1.awsstatic.com/whitepapers/whitepaper-streaming-data-solutions-on-aws-with-amazon-kinesis.pdf
[kda_wp1]: https://aws.amazon.com/answers/account-management/real-time-insights-account-activity/
[kda_wp2]: https://aws.amazon.com/answers/web-applications/real-time-web-analytics-with-kinesis/

<!-- What services and products covered in this domain? -->

[guardduty_page]: https://aws.amazon.com/guardduty/
[guardduty_pricing]: https://aws.amazon.com/guardduty/pricing/
[guardduty_faq]: https://aws.amazon.com/guardduty/faqs/
[guardduty_guide]: https://docs.aws.amazon.com/guardduty/latest/ug/what-is-guardduty.html
[guardduty_cli]: https://docs.aws.amazon.com/cli/latest/reference/guardduty/index.html
[guardduty_api]: https://docs.aws.amazon.com/guardduty/latest/ug/guardduty_api_ref.html 

[inspector_page]: https://aws.amazon.com/inspector/
[inspector_pricing]: https://aws.amazon.com/inspector/pricing/
[inspector_faq]: https://aws.amazon.com/inspector/faqs/
[inspector_guide]: https://docs.aws.amazon.com/inspector/latest/userguide/inspector_introduction.html
[inspector_cli]: https://docs.aws.amazon.com/cli/latest/reference/inspector/index.html
[inspector_api]: https://docs.aws.amazon.com/inspector/latest/APIReference/Welcome.html

[kinesis_page]: https://aws.amazon.com/kinesis/
[kvs_page]: https://aws.amazon.com/kinesis/video-streams/
[kvs_pricing]: https://aws.amazon.com/kinesis/video-streams/pricing/?nc=sn&loc=3
[kvs_faq]: https://aws.amazon.com/kinesis/video-streams/faqs/?nc=sn&loc=5
[kvs_guide]: https://docs.aws.amazon.com/kinesisvideostreams/latest/dg/what-is-kinesis-video.html
[kvs_cli1]: https://docs.aws.amazon.com/cli/latest/reference/kinesis-video-archived-media/index.html
[kvs_cli2]: https://docs.aws.amazon.com/cli/latest/reference/kinesis-video-media/index.html
[kvs_cli3]: https://docs.aws.amazon.com/cli/latest/reference/kinesisvideo/index.html
[kvs_api]: https://docs.aws.amazon.com/kinesisvideostreams/latest/dg/API_Reference.html

[kds_page]: https://aws.amazon.com/kinesis/data-streams/
[kds_pricing]: https://aws.amazon.com/kinesis/data-streams/pricing/
[kds_faq]: https://aws.amazon.com/kinesis/data-streams/faqs/
[kds_guide]: http://docs.aws.amazon.com/kinesis/latest/dev/introduction.html
[kds_api]: http://docs.aws.amazon.com/kinesis/latest/APIReference/Welcome.html

[kdf_page]: https://aws.amazon.com/kinesis/data-firehose/
[kdf_pricing]: https://aws.amazon.com/kinesis/data-firehose/pricing/
[kdf_faq]: https://aws.amazon.com/kinesis/data-firehose/faqs/
[kdf_guide]: https://docs.aws.amazon.com/firehose/latest/dev/
[kdf_api]: http://docs.aws.amazon.com/firehose/latest/APIReference/Welcome.html

[kda_page]: https://aws.amazon.com/kinesis/data-analytics/
[kda_pricing]: https://aws.amazon.com/kinesis/data-analytics/pricing/
[kda_faq]: https://aws.amazon.com/kinesis/data-analytics/faqs/
[kda_guide]: https://docs.aws.amazon.com/kinesisanalytics/latest/dev/what-is.html
[kda_cli]: https://docs.aws.amazon.com/cli/latest/reference/kinesisanalytics/index.html
[kda_api]: https://docs.aws.amazon.com/kinesisanalytics/latest/dev/API_Reference.html
[kda_sql]: https://docs.aws.amazon.com/kinesisanalytics/latest/sqlref/analytics-sql-reference.html

<!-- Why -->

[guardduty_partners]: https://aws.amazon.com/guardduty/resources/partners/

<!-- When -->

[link_snort]: https://www.snort.org/
[link_tripwire]: https://github.com/Tripwire/tripwire-open-source
[link_proofpoint]: http://www.proofpoint.com/
[link_crowdstrike]: https://www.crowdstrike.com/

<!-- How -->

[guardduty_pricing]: https://aws.amazon.com/guardduty/pricing/
[guardduty_guide_sns]: https://docs.aws.amazon.com/guardduty/latest/ug/guardduty_sns.html

## AWS DevOps Pro Certification Blog Post Series

- [Intro](/2019/aws-devops-pro-certification-intro/)
- Domain 1: [SLDC automation](/2019/aws-devops-pro-certification-sdlc-intro/)
- Domain 2: [Configuration Management and Infrastructure as Code](/2019/aws-devops-pro-certification-configuration-management-and-infrastructure-as-code-intro/)
- Domain 3: [Monitoring and Logging](/2019/aws-devops-pro-certification-monitoring-and-logging)
- Domain 4: [Policies and Standards Automation](/2019/aws-devops-pro-certification-policy-standards-automation/)
- Domain 5: Incident and Event Response
  - Amazon GuardDuty
  - Amazon Inspector
  - Amazon Kinesis
    - Kinesis Video Streams
    - Kinesis Data Streams
    - Kinesis Data Firehose
    - Kinesis Data Analytics
- Domain 6: High Availability, Fault Tolerance, and Disaster Recovery